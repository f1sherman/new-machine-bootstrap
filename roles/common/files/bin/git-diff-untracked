#!/bin/bash
# Show git diff including untracked files (but not ignored)
# Untracked files are shown as new file diffs

# Run normal git diff with any passed arguments
git diff "$@"

# Show untracked files as diffs (works with delta pager)
git ls-files --others --exclude-standard | while IFS= read -r file; do
  [ -n "$file" ] && git diff --no-index /dev/null "$file" 2>/dev/null || true
done
